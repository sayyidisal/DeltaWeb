/*! Algorithm_Platform 2016-01-14 */
function replaceSelectionWithHtml(a){var b,a;if(window.getSelection&&window.getSelection().getRangeAt){b=window.getSelection().getRangeAt(0),b.deleteContents();var c=document.createElement("div");c.innerHTML=a;for(var d,e=document.createDocumentFragment();d=c.firstChild;)e.appendChild(d);b.insertNode(e)}else document.selection&&document.selection.createRange&&(b=document.selection.createRange(),b.pasteHTML(a))}function setSelectionRange(a,b,c){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,c);else if(a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}else"selectionStart"in this&&(this.selectionStart=b,this.selectionEnd=c)}!function(){angular.module("platform-record",[]).directive("navBar",[function(){return{restrict:"E",templateUrl:"nav.html",controller:["$scope",function(a){a.links={home:"index.html",other:"other.html",login:"login.html"}}]}}]).controller("RecordCtrl",["$scope",function(a){a.variables=[],a.classType=["success","primary","warning"],a.counter=0,a.removeVariable=function(b){for(var c=0;c<a.variables.length;c++)a.variables[c].index==b&&a.variables.splice(c,1);document.getElementById("variable-label"+b).remove()},a.insertVariable=function(){document.getElementById("record-editor").focus(),a.counter+=1,this.variables.push({type:1,index:a.counter,val:""}),replaceSelectionWithHtml("&nbsp;<span class='label label-success noselect' contenteditable='false' id='variable-label"+a.counter+"'>a"+a.counter+"</span>&nbsp;"),$(".collapse").removeClass("in"),setTimeout(function(){$("[data-variable]").unbind("click").click(function(b){var c=a.classType[parseInt($(this).attr("data-checked"))-1];$("#variable-label"+$(this).attr("data-variable")).attr("class","label label-"+c),index=parseInt($(this).attr("data-variable"));var d=$("#collapse"+index+" input").eq(2).val().replace(/\s/g,""),e=$("#collapse"+index+" input").eq(3).val().replace(/\s/g,"");setTimeout(function(){""!=d&&""!=e&&($("#collapse"+index+" input").eq(0).parent().hasClass("active")?$("#formula-line"+index).find("input").val("a"+index+"= randomInt("+d+","+e+");"):$("#formula-line"+index).find("input").val("a"+index+"= randomFloat("+d+","+e+");"))},20)})},20)},a.updateFormula=function(a){var b=document.getElementById("collapse"+a).getElementsByTagName("input"),c=b[2].value.replace(/\s/g,""),d=b[3].value.replace(/\s/g,"");if(""!=c&&""!=d){var e="1"==b[0].value?"Int":"Float";document.getElementById("formula-line"+a).getElementsByTagName("input")[0].value="a"+a+"= random"+e+"("+c+","+d+");"}},a.editTitle=function(){document.getElementById("record-title-edit").focus()},a.tagConfirm=function(){tagsHtml="",tags=document.getElementById("tag-input").value.split(";");for(var a=tags.length-1;a>=0;a--)""!=tags[a].trim()&&(tagsHtml='<a class="tag-link" href="#'+tags[a].trim()+'">'+tags[a].trim()+"</a>"+tagsHtml);document.getElementById("tag-container").innerHTML=tagsHtml},a.deleteLabel=function(){$("#record-editor").on("input",function(){for(var b=0;b<$("[data-panel-variable]").length;b++)""!=$("#variable-label"+$("[data-panel-variable]").eq(b).attr("data-panel-variable")).text()||(a.variables.splice(b,1),a.$apply())})},a.deleteLabel(),a.submit=function(){({title:document})}}])}(),jQuery(document).ready(function(a){a('[data-toggle="tooltip"]').tooltip()});